function _layers(){this.area=null,this.list=[["warstwa 0",0,null,null]],this.show=function(){var l=this,e="";e+='<div class="layer"><h2><label>Obszar:</label><select class="select_area">',e+="<option>none</option>";for(var t=0;t<excel.parse_file[0].length;t++)e+=l.area==t?'<option value="'+t+'" col="'+t+'" selected >'+excel.parse_file[0][t]+"</option>":'<option value="'+t+'" col="'+t+'">'+excel.parse_file[0][t]+"</option>";e+="</select></h2></div>",$.each(this.list,function(l,t){e+='<div class="layer" layer="'+l+'"><h2><label>'+t[0]+'</label><select layer="'+l+'" class="select_layer">',e+="<option>none</option>";for(var i=0;i<excel.parse_file[0].length;i++)e+=t[0]==i?'<option value="'+i+'" col="'+i+'" selected >'+excel.parse_file[0][i]+"</option>":'<option value="'+i+'" col="'+i+'">'+excel.parse_file[0][i]+"</option>";e+="</select></h2>",e+='<div class="edit"><div class="left"><h3>legenda:</h3><div class="legends"></div></div> <div class="right"><h3>opis dymka:</h3><textarea layer="'+l+'">'+description.list[l-1]+"</textarea></div></div>",e+="</div>"}),$("#project-edit .layers").html(e)},this.add=function(){this.list.push(["warstwa "+this.list.length,this.list.length,null,null,null]),description.add(),gradient.add(),label.add();var l=this;l.show()},this["switch"]=function(l){$(l).children(".edit").is(":visible")?$(l).children(".edit").hide(500):($("#project-edit .layer .edit").hide(500),$(l).children(".edit").show(500))},this.remove=function(){this.list.length>1&&(this.list.pop(),label.remove(label.color.length),gradient.remove(gradient.color.length),description.remove(description.list.length),this.show())},this.select_area=function(l){this.area=$(l).val()},this.select_layer=function(l){var e=$(l).attr("layer");alert(e),this.list[e][2]=$(l).val(),$.isNumeric(excel.parse_file[1][$(l).val()])?(null==this.list[e][3]?(console.log("gradient - dodawanie"),gradient.generate(e,$(l).val()),gradient.title[e]=excel.parse_file[0][$(l).val()],this.list[e][3]="gradient"):"label"==this.list[e][3]?(console.log("gradient - zmiana"),label.remove(this.list[e][4]),gradient.add(),gradient.update_data(gradient.list.length-1,$(l).val()),this.list[e][4]=gradient.list.length-1):"gradient"==this.list[e][3]&&(console.log("gradient - aktualizacja",this.list[e][4],$(l).val()),gradient.update_data(this.list[e][4],$(l).val())),this.list[e][3]="gradient"):(null==this.list[e][3]?(console.log("label - dodawanie"),label.add(),label.update_data(label.list.length-1,$(l).val()),this.list[e][4]=label.list.length-1):"gradient"==this.list[e][3]?(console.log("label - zmiana"),gradient.remove(this.list[e][4]),label.add(),label.update_data(label.list.length-1,$(l).val()),this.list[e][4]=label.list.length-1):"label"==this.list[e][3]&&(console.log("label - aktualizacja",this.list[e][4],$(l).val()),label.update_data(this.list[e][4],$(l).val())),this.list[e][3]="label"),console.log("tablica layers: ",this.list),console.log("tablica gradient: ",gradient.list),console.log("tablica label: ",label.list)}}