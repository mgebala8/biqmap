/*!
 * ColorPicker
 *
 * Copyright (c) 2011-2014 Martijn W. van der Lee
 * Licensed under the MIT.
 */
!function(e){"use strict";var o=0,r='<div class="ui-colorpicker ui-colorpicker-dialog ui-dialog ui-widget ui-widget-content ui-corner-all" style="display: none;"></div>',i='<div class="ui-colorpicker ui-colorpicker-inline ui-dialog ui-widget ui-widget-content ui-corner-all"></div>',t='<div class="ui-colorpicker ui-colorpicker-inline"></div>',n=function(e){var o=Math.floor(e).toString(16);return 1===o.length&&(o="0"+o),o.toLowerCase()},a=function(o){var r,i;return i=/^#?([a-fA-F0-9]{1,6})$/.exec(o),i?(r=parseInt(i[1],16),new e.colorpicker.Color((r>>16&255)/255,(r>>8&255)/255,(255&r)/255)):new e.colorpicker.Color},c=function(o,r){var i,t,n,a,c,l,s,p,u,h,g,b,d,m;for(o.sort(function(e,o){return e.pos[1]===o.pos[1]?e.pos[0]-o.pos[0]:e.pos[1]-o.pos[1]}),a=0,c=0,e.each(o,function(e,o){a=Math.max(a,o.pos[0]+o.pos[2]),c=Math.max(c,o.pos[1]+o.pos[3])}),i=[],t=0;a>t;++t)i.push([]);for(s=[],l=[],e.each(o,function(e,o){for(t=0;t<o.pos[2];t+=1)l[o.pos[0]+t]=!0;for(n=0;n<o.pos[3];n+=1)s[o.pos[1]+n]=!0}),h="",u=o[p=0],n=0;c>n;++n){for(h+="<tr>",t=0;a>t;)if("undefined"!=typeof u&&t===u.pos[0]&&n===u.pos[1]){for(h+=r(u,t,n),b=0;b<u.pos[3];b+=1)for(g=0;g<u.pos[2];g+=1)i[t+g][n+b]=!0;t+=u.pos[2],u=o[++p]}else{for(d=0,m=!1;a>t&&void 0===i[t][n]&&(void 0===u||n<u.pos[1]||n===u.pos[1]&&t<u.pos[0]);)l[t]===!0&&(d+=1),m=!0,t+=1;d>0?h+='<td colspan="'+d+'"></td>':m||(t+=1)}h+="</tr>"}return'<table cellspacing="0" cellpadding="0" border="0"><tbody>'+h+"</tbody></table>"};e.colorpicker=new function(){this.regional={"":{ok:"OK",cancel:"Cancel",none:"None",button:"Color",title:"Pick a color",transparent:"Transparent",hsvH:"H",hsvS:"S",hsvV:"V",rgbR:"R",rgbG:"G",rgbB:"B",labL:"L",labA:"a",labB:"b",hslH:"H",hslS:"S",hslL:"L",cmykC:"C",cmykM:"M",cmykY:"Y",cmykK:"K",alphaA:"A"}},this.swatches={html:[{name:"black",r:0,g:0,b:0},{name:"dimgray",r:.4117647058823529,g:.4117647058823529,b:.4117647058823529},{name:"gray",r:.5019607843137255,g:.5019607843137255,b:.5019607843137255},{name:"darkgray",r:.6627450980392157,g:.6627450980392157,b:.6627450980392157},{name:"silver",r:.7529411764705882,g:.7529411764705882,b:.7529411764705882},{name:"lightgrey",r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},{name:"gainsboro",r:.8627450980392157,g:.8627450980392157,b:.8627450980392157},{name:"whitesmoke",r:.9607843137254902,g:.9607843137254902,b:.9607843137254902},{name:"white",r:1,g:1,b:1},{name:"rosybrown",r:.7372549019607844,g:.5607843137254902,b:.5607843137254902},{name:"indianred",r:.803921568627451,g:.3607843137254902,b:.3607843137254902},{name:"brown",r:.6470588235294118,g:.16470588235294117,b:.16470588235294117},{name:"firebrick",r:.6980392156862745,g:.13333333333333333,b:.13333333333333333},{name:"lightcoral",r:.9411764705882353,g:.5019607843137255,b:.5019607843137255},{name:"maroon",r:.5019607843137255,g:0,b:0},{name:"darkred",r:.5450980392156862,g:0,b:0},{name:"red",r:1,g:0,b:0},{name:"snow",r:1,g:.9803921568627451,b:.9803921568627451},{name:"salmon",r:.9803921568627451,g:.5019607843137255,b:.4470588235294118},{name:"mistyrose",r:1,g:.8941176470588236,b:.8823529411764706},{name:"tomato",r:1,g:.38823529411764707,b:.2784313725490196},{name:"darksalmon",r:.9137254901960784,g:.5882352941176471,b:.47843137254901963},{name:"orangered",r:1,g:.27058823529411763,b:0},{name:"coral",r:1,g:.4980392156862745,b:.3137254901960784},{name:"lightsalmon",r:1,g:.6274509803921569,b:.47843137254901963},{name:"sienna",r:.6274509803921569,g:.3215686274509804,b:.17647058823529413},{name:"seashell",r:1,g:.9607843137254902,b:.9333333333333333},{name:"chocolate",r:.8235294117647058,g:.4117647058823529,b:.11764705882352941},{name:"saddlebrown",r:.5450980392156862,g:.27058823529411763,b:.07450980392156863},{name:"sandybrown",r:.9568627450980393,g:.6431372549019608,b:.3764705882352941},{name:"peachpuff",r:1,g:.8549019607843137,b:.7254901960784313},{name:"peru",r:.803921568627451,g:.5215686274509804,b:.24705882352941178},{name:"linen",r:.9803921568627451,g:.9411764705882353,b:.9019607843137255},{name:"darkorange",r:1,g:.5490196078431373,b:0},{name:"bisque",r:1,g:.8941176470588236,b:.7686274509803922},{name:"burlywood",r:.8705882352941177,g:.7215686274509804,b:.5294117647058824},{name:"tan",r:.8235294117647058,g:.7058823529411765,b:.5490196078431373},{name:"antiquewhite",r:.9803921568627451,g:.9215686274509803,b:.8431372549019608},{name:"navajowhite",r:1,g:.8705882352941177,b:.6784313725490196},{name:"blanchedalmond",r:1,g:.9215686274509803,b:.803921568627451},{name:"papayawhip",r:1,g:.9372549019607843,b:.8352941176470589},{name:"orange",r:1,g:.6470588235294118,b:0},{name:"moccasin",r:1,g:.8941176470588236,b:.7098039215686275},{name:"wheat",r:.9607843137254902,g:.8705882352941177,b:.7019607843137254},{name:"oldlace",r:.9921568627450981,g:.9607843137254902,b:.9019607843137255},{name:"floralwhite",r:1,g:.9803921568627451,b:.9411764705882353},{name:"goldenrod",r:.8549019607843137,g:.6470588235294118,b:.12549019607843137},{name:"darkgoldenrod",r:.7215686274509804,g:.5254901960784314,b:.043137254901960784},{name:"cornsilk",r:1,g:.9725490196078431,b:.8627450980392157},{name:"gold",r:1,g:.8431372549019608,b:0},{name:"palegoldenrod",r:.9333333333333333,g:.9098039215686274,b:.6666666666666666},{name:"khaki",r:.9411764705882353,g:.9019607843137255,b:.5490196078431373},{name:"lemonchiffon",r:1,g:.9803921568627451,b:.803921568627451},{name:"darkkhaki",r:.7411764705882353,g:.7176470588235294,b:.4196078431372549},{name:"beige",r:.9607843137254902,g:.9607843137254902,b:.8627450980392157},{name:"lightgoldenrodyellow",r:.9803921568627451,g:.9803921568627451,b:.8235294117647058},{name:"olive",r:.5019607843137255,g:.5019607843137255,b:0},{name:"yellow",r:1,g:1,b:0},{name:"lightyellow",r:1,g:1,b:.8784313725490196},{name:"ivory",r:1,g:1,b:.9411764705882353},{name:"olivedrab",r:.4196078431372549,g:.5568627450980392,b:.13725490196078433},{name:"yellowgreen",r:.6039215686274509,g:.803921568627451,b:.19607843137254902},{name:"darkolivegreen",r:.3333333333333333,g:.4196078431372549,b:.1843137254901961},{name:"greenyellow",r:.6784313725490196,g:1,b:.1843137254901961},{name:"lawngreen",r:.48627450980392156,g:.9882352941176471,b:0},{name:"chartreuse",r:.4980392156862745,g:1,b:0},{name:"darkseagreen",r:.5607843137254902,g:.7372549019607844,b:.5607843137254902},{name:"forestgreen",r:.13333333333333333,g:.5450980392156862,b:.13333333333333333},{name:"limegreen",r:.19607843137254902,g:.803921568627451,b:.19607843137254902},{name:"lightgreen",r:.5647058823529412,g:.9333333333333333,b:.5647058823529412},{name:"palegreen",r:.596078431372549,g:.984313725490196,b:.596078431372549},{name:"darkgreen",r:0,g:.39215686274509803,b:0},{name:"green",r:0,g:.5019607843137255,b:0},{name:"lime",r:0,g:1,b:0},{name:"honeydew",r:.9411764705882353,g:1,b:.9411764705882353},{name:"mediumseagreen",r:.23529411764705882,g:.7019607843137254,b:.44313725490196076},{name:"seagreen",r:.1803921568627451,g:.5450980392156862,b:.3411764705882353},{name:"springgreen",r:0,g:1,b:.4980392156862745},{name:"mintcream",r:.9607843137254902,g:1,b:.9803921568627451},{name:"mediumspringgreen",r:0,g:.9803921568627451,b:.6039215686274509},{name:"mediumaquamarine",r:.4,g:.803921568627451,b:.6666666666666666},{name:"aquamarine",r:.4980392156862745,g:1,b:.8313725490196079},{name:"turquoise",r:.25098039215686274,g:.8784313725490196,b:.8156862745098039},{name:"lightseagreen",r:.12549019607843137,g:.6980392156862745,b:.6666666666666666},{name:"mediumturquoise",r:.2823529411764706,g:.8196078431372549,b:.8},{name:"darkslategray",r:.1843137254901961,g:.30980392156862746,b:.30980392156862746},{name:"paleturquoise",r:.6862745098039216,g:.9333333333333333,b:.9333333333333333},{name:"teal",r:0,g:.5019607843137255,b:.5019607843137255},{name:"darkcyan",r:0,g:.5450980392156862,b:.5450980392156862},{name:"darkturquoise",r:0,g:.807843137254902,b:.8196078431372549},{name:"aqua",r:0,g:1,b:1},{name:"cyan",r:0,g:1,b:1},{name:"lightcyan",r:.8784313725490196,g:1,b:1},{name:"azure",r:.9411764705882353,g:1,b:1},{name:"cadetblue",r:.37254901960784315,g:.6196078431372549,b:.6274509803921569},{name:"powderblue",r:.6901960784313725,g:.8784313725490196,b:.9019607843137255},{name:"lightblue",r:.6784313725490196,g:.8470588235294118,b:.9019607843137255},{name:"deepskyblue",r:0,g:.7490196078431373,b:1},{name:"skyblue",r:.5294117647058824,g:.807843137254902,b:.9215686274509803},{name:"lightskyblue",r:.5294117647058824,g:.807843137254902,b:.9803921568627451},{name:"steelblue",r:.27450980392156865,g:.5098039215686274,b:.7058823529411765},{name:"aliceblue",r:.9411764705882353,g:.9725490196078431,b:1},{name:"dodgerblue",r:.11764705882352941,g:.5647058823529412,b:1},{name:"slategray",r:.4392156862745098,g:.5019607843137255,b:.5647058823529412},{name:"lightslategray",r:.4666666666666667,g:.5333333333333333,b:.6},{name:"lightsteelblue",r:.6901960784313725,g:.7686274509803922,b:.8705882352941177},{name:"cornflowerblue",r:.39215686274509803,g:.5843137254901961,b:.9294117647058824},{name:"royalblue",r:.2549019607843137,g:.4117647058823529,b:.8823529411764706},{name:"midnightblue",r:.09803921568627451,g:.09803921568627451,b:.4392156862745098},{name:"lavender",r:.9019607843137255,g:.9019607843137255,b:.9803921568627451},{name:"navy",r:0,g:0,b:.5019607843137255},{name:"darkblue",r:0,g:0,b:.5450980392156862},{name:"mediumblue",r:0,g:0,b:.803921568627451},{name:"blue",r:0,g:0,b:1},{name:"ghostwhite",r:.9725490196078431,g:.9725490196078431,b:1},{name:"darkslateblue",r:.2823529411764706,g:.23921568627450981,b:.5450980392156862},{name:"slateblue",r:.41568627450980394,g:.35294117647058826,b:.803921568627451},{name:"mediumslateblue",r:.4823529411764706,g:.40784313725490196,b:.9333333333333333},{name:"mediumpurple",r:.5764705882352941,g:.4392156862745098,b:.8588235294117647},{name:"blueviolet",r:.5411764705882353,g:.16862745098039217,b:.8862745098039215},{name:"indigo",r:.29411764705882354,g:0,b:.5098039215686274},{name:"darkorchid",r:.6,g:.19607843137254902,b:.8},{name:"darkviolet",r:.5803921568627451,g:0,b:.8274509803921568},{name:"mediumorchid",r:.7294117647058823,g:.3333333333333333,b:.8274509803921568},{name:"thistle",r:.8470588235294118,g:.7490196078431373,b:.8470588235294118},{name:"plum",r:.8666666666666667,g:.6274509803921569,b:.8666666666666667},{name:"violet",r:.9333333333333333,g:.5098039215686274,b:.9333333333333333},{name:"purple",r:.5019607843137255,g:0,b:.5019607843137255},{name:"darkmagenta",r:.5450980392156862,g:0,b:.5450980392156862},{name:"magenta",r:1,g:0,b:1},{name:"fuchsia",r:1,g:0,b:1},{name:"orchid",r:.8549019607843137,g:.4392156862745098,b:.8392156862745098},{name:"mediumvioletred",r:.7803921568627451,g:.08235294117647059,b:.5215686274509804},{name:"deeppink",r:1,g:.0784313725490196,b:.5764705882352941},{name:"hotpink",r:1,g:.4117647058823529,b:.7058823529411765},{name:"palevioletred",r:.8588235294117647,g:.4392156862745098,b:.5764705882352941},{name:"lavenderblush",r:1,g:.9411764705882353,b:.9607843137254902},{name:"crimson",r:.8627450980392157,g:.0784313725490196,b:.23529411764705882},{name:"pink",r:1,g:.7529411764705882,b:.796078431372549},{name:"lightpink",r:1,g:.7137254901960784,b:.7568627450980392}]},this.writers={"#HEX":function(e,o){return o._formatColor("#rxgxbx",e)},"#HEX3":function(o){var r=e.colorpicker.writers.HEX3(o);return r===!1?!1:"#"+r},HEX:function(e,o){return o._formatColor("rxgxbx",e)},HEX3:function(e){var o=e.getRGB(),r=Math.floor(255*o.r),i=Math.floor(255*o.g),t=Math.floor(255*o.b);return r>>>4===(r&=15)&&i>>>4===(i&=15)&&t>>>4===(t&=15)?r.toString(16)+i.toString(16)+t.toString(16):!1},"#HEXA":function(e,o){return o._formatColor("#rxgxbxax",e)},"#HEXA4":function(o,r){var i=e.colorpicker.writers.HEXA4(o,r);return i===!1?!1:"#"+i},HEXA:function(e,o){return o._formatColor("rxgxbxax",e)},HEXA4:function(o,r){var i=Math.floor(255*o.getAlpha());return i>>>4===(i&=15)?e.colorpicker.writers.HEX3(o,r)+i.toString(16):!1},RGB:function(e,o){return e.getAlpha()>=1?o._formatColor("rgb(rd,gd,bd)",e):!1},RGBA:function(e,o){return o._formatColor("rgba(rd,gd,bd,af)",e)},"RGB%":function(e,o){return e.getAlpha()>=1?o._formatColor("rgb(rp%,gp%,bp%)",e):!1},"RGBA%":function(e,o){return o._formatColor("rgba(rp%,gp%,bp%,af)",e)},HSL:function(e,o){return e.getAlpha()>=1?o._formatColor("hsl(hd,sd,vd)",e):!1},HSLA:function(e,o){return o._formatColor("hsla(hd,sd,vd,af)",e)},"HSL%":function(e,o){return e.getAlpha()>=1?o._formatColor("hsl(hp%,sp%,vp%)",e):!1},"HSLA%":function(e,o){return o._formatColor("hsla(hp%,sp%,vp%,af)",e)},NAME:function(e,o){return o._closestName(e)},EXACT:function(e,o){return o._exactName(e)}},this.parsers={"":function(o){return""===o?new e.colorpicker.Color:void 0},NAME:function(o,r){var i=r._getSwatch(e.trim(o));return i?new e.colorpicker.Color(i.r,i.g,i.b):void 0},RGBA:function(o){var r=/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/.exec(o);return r?new e.colorpicker.Color(r[1]/255,r[2]/255,r[3]/255,parseFloat(r[4])):void 0},"RGBA%":function(o){var r=/^rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/.exec(o);return r?new e.colorpicker.Color(r[1]/100,r[2]/100,r[3]/100,r[4]/100):void 0},HSLA:function(o){var r=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/.exec(o);return r?(new e.colorpicker.Color).setHSL(r[1]/255,r[2]/255,r[3]/255).setAlpha(parseFloat(r[4])):void 0},"HSLA%":function(o){var r=/^hsla?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/.exec(o);return r?(new e.colorpicker.Color).setHSL(r[1]/100,r[2]/100,r[3]/100).setAlpha(r[4]/100):void 0},"#HEX":function(o){var r=/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(o);return r?new e.colorpicker.Color(parseInt(r[1],16)/255,parseInt(r[2],16)/255,parseInt(r[3],16)/255):void 0},"#HEX3":function(o){var r=/^#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(o);return r?new e.colorpicker.Color(parseInt(String(r[1])+r[1],16)/255,parseInt(String(r[2])+r[2],16)/255,parseInt(String(r[3])+r[3],16)/255):void 0},HEX:function(o){var r=/^([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(o);return r?new e.colorpicker.Color(parseInt(r[1],16)/255,parseInt(r[2],16)/255,parseInt(r[3],16)/255):void 0},HEX3:function(o){var r=/^([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(o);return r?new e.colorpicker.Color(parseInt(String(r[1])+r[1],16)/255,parseInt(String(r[2])+r[2],16)/255,parseInt(String(r[3])+r[3],16)/255):void 0},"#HEXA":function(o){var r=/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(o);return r?new e.colorpicker.Color(parseInt(r[1],16)/255,parseInt(r[2],16)/255,parseInt(r[3],16)/255,parseInt(r[4],16)/255):void 0},"#HEXA4":function(o){var r=/^#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(o);return r?new e.colorpicker.Color(parseInt(String(r[1])+r[1],16)/255,parseInt(String(r[2])+r[2],16)/255,parseInt(String(r[3])+r[3],16)/255,parseInt(String(r[4])+r[4],16)/255):void 0},HEXA:function(o){var r=/^([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(o);return r?new e.colorpicker.Color(parseInt(r[1],16)/255,parseInt(r[2],16)/255,parseInt(r[3],16)/255,parseInt(r[4],16)/255):void 0},HEXA4:function(o){var r=/^([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(o);return r?new e.colorpicker.Color(parseInt(String(r[1])+r[1],16)/255,parseInt(String(r[2])+r[2],16)/255,parseInt(String(r[3])+r[3],16)/255,parseInt(String(r[4])+r[4],16)/255):void 0}},this.partslists={full:["header","map","bar","hex","hsv","rgb","alpha","lab","cmyk","preview","swatches","footer"],popup:["map","bar","hex","hsv","rgb","alpha","preview","footer"],draggable:["header","map","bar","hex","hsv","rgb","alpha","preview","footer"],inline:["map","bar","hex","hsv","rgb","alpha","preview"]},this.limits={websafe:function(e){e.limit(6)},nibble:function(e){e.limit(16)},binary:function(e){e.limit(2)},name:function(e,o){var r=o._getSwatch(o._closestName(e));e.setRGB(r.r,r.g,r.b)}},this.parts={header:function(o){var r=null,i=function(){var e=o.options.title||o._getRegional("title"),r='<span class="ui-dialog-title">'+e+"</span>";return!o.inline&&o.options.showCloseButton&&(r+='<a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a>'),'<div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix">'+r+"</div>"};this.init=function(){r=e(i()).prependTo(o.dialog);var t=e(".ui-dialog-titlebar-close",r);if(o._hoverable(t),o._focusable(t),t.click(function(e){e.preventDefault(),o.close(o.options.revert)}),!o.inline&&o.options.draggable){var n={handle:r};o.options.containment&&(n.containment=o.options.containment),o.dialog.draggable(n)}}},map:function(o){var r,i,t,n,a=this,c=null;r=function(n){if(o.opened){var a=e(".ui-colorpicker-map-layer-pointer",c),l=a.offset(),s=a.width(),p=a.height(),u=n.pageX-l.left,h=n.pageY-l.top;u>=0&&s>u&&h>=0&&p>h&&(n.stopImmediatePropagation(),n.preventDefault(),c.unbind("mousedown",r),e(document).bind("mouseup",i),e(document).bind("mousemove",t),t(n))}},i=function(o){o.stopImmediatePropagation(),o.preventDefault(),e(document).unbind("mouseup",i),e(document).unbind("mousemove",t),c.bind("mousedown",r)},t=function(r){if(r.stopImmediatePropagation(),r.preventDefault(),r.pageX!==a.x||r.pageY!==a.y){a.x=r.pageX,a.y=r.pageY;var i=e(".ui-colorpicker-map-layer-pointer",c),t=i.offset(),n=i.width(),l=i.height(),s=r.pageX-t.left,p=r.pageY-t.top;switch(s=Math.max(0,Math.min(s/n,1)),p=Math.max(0,Math.min(p/l,1)),o.mode){case"h":o.color.setHSV(null,s,1-p);break;case"s":case"a":o.color.setHSV(s,null,1-p);break;case"v":o.color.setHSV(s,1-p,null);break;case"r":o.color.setRGB(null,1-p,s);break;case"g":o.color.setRGB(1-p,null,s);break;case"b":o.color.setRGB(s,1-p,null)}o._change()}},n=function(){var e='<div class="ui-colorpicker-map ui-colorpicker-map-'+(o.options.part.map.size||256)+' ui-colorpicker-border"><span class="ui-colorpicker-map-layer-1">&nbsp;</span><span class="ui-colorpicker-map-layer-2">&nbsp;</span>'+(o.options.alpha?'<span class="ui-colorpicker-map-layer-alpha">&nbsp;</span>':"")+'<span class="ui-colorpicker-map-layer-pointer"><span class="ui-colorpicker-map-pointer"></span></span></div>';return e},this.update=function(){var r=65*(o.options.part.map.size||256)/64;switch(o.mode){case"h":e(".ui-colorpicker-map-layer-1",c).css({"background-position":"0 0",opacity:""}).show(),e(".ui-colorpicker-map-layer-2",c).hide();break;case"s":case"a":e(".ui-colorpicker-map-layer-1",c).css({"background-position":"0 "+-r+"px",opacity:""}).show(),e(".ui-colorpicker-map-layer-2",c).css({"background-position":"0 "+2*-r+"px",opacity:""}).show();break;case"v":e(c).css("background-color","black"),e(".ui-colorpicker-map-layer-1",c).css({"background-position":"0 "+3*-r+"px",opacity:""}).show(),e(".ui-colorpicker-map-layer-2",c).hide();break;case"r":e(".ui-colorpicker-map-layer-1",c).css({"background-position":"0 "+4*-r+"px",opacity:""}).show(),e(".ui-colorpicker-map-layer-2",c).css({"background-position":"0 "+5*-r+"px",opacity:""}).show();break;case"g":e(".ui-colorpicker-map-layer-1",c).css({"background-position":"0 "+6*-r+"px",opacity:""}).show(),e(".ui-colorpicker-map-layer-2",c).css({"background-position":"0 "+7*-r+"px",opacity:""}).show();break;case"b":e(".ui-colorpicker-map-layer-1",c).css({"background-position":"0 "+8*-r+"px",opacity:""}).show(),e(".ui-colorpicker-map-layer-2",c).css({"background-position":"0 "+9*-r+"px",opacity:""}).show()}a.repaint()},this.repaint=function(){var r=e(".ui-colorpicker-map-layer-pointer",c),i=0,t=0;switch(o.mode){case"h":i=o.color.getHSV().s*r.width(),t=(1-o.color.getHSV().v)*r.width(),e(c).css("background-color",o.color.copy().setHSV(null,1,1).toCSS());break;case"s":case"a":i=o.color.getHSV().h*r.width(),t=(1-o.color.getHSV().v)*r.width(),e(".ui-colorpicker-map-layer-2",c).css("opacity",1-o.color.getHSV().s);break;case"v":i=o.color.getHSV().h*r.width(),t=(1-o.color.getHSV().s)*r.width(),e(".ui-colorpicker-map-layer-1",c).css("opacity",o.color.getHSV().v);break;case"r":i=o.color.getRGB().b*r.width(),t=(1-o.color.getRGB().g)*r.width(),e(".ui-colorpicker-map-layer-2",c).css("opacity",o.color.getRGB().r);break;case"g":i=o.color.getRGB().b*r.width(),t=(1-o.color.getRGB().r)*r.width(),e(".ui-colorpicker-map-layer-2",c).css("opacity",o.color.getRGB().g);break;case"b":i=o.color.getRGB().r*r.width(),t=(1-o.color.getRGB().g)*r.width(),e(".ui-colorpicker-map-layer-2",c).css("opacity",o.color.getRGB().b)}o.options.alpha&&e(".ui-colorpicker-map-layer-alpha",c).css("opacity",1-o.color.getAlpha()),e(".ui-colorpicker-map-pointer",c).css({left:i-7,top:t-7})},this.init=function(){c=e(n()).appendTo(e(".ui-colorpicker-map-container",o.dialog)),c.bind("mousedown",r)}},bar:function(o){var r,i,t,n,a=this,c=null;r=function(n){if(o.opened){var a=e(".ui-colorpicker-bar-layer-pointer",c),l=a.offset(),s=a.width(),p=a.height(),u=n.pageX-l.left,h=n.pageY-l.top;u>=0&&s>u&&h>=0&&p>h&&(n.stopImmediatePropagation(),n.preventDefault(),c.unbind("mousedown",r),e(document).bind("mouseup",i),e(document).bind("mousemove",t),t(n))}},i=function(o){o.stopImmediatePropagation(),o.preventDefault(),e(document).unbind("mouseup",i),e(document).unbind("mousemove",t),c.bind("mousedown",r)},t=function(r){if(r.stopImmediatePropagation(),r.preventDefault(),r.pageY!==a.y){a.y=r.pageY;var i=e(".ui-colorpicker-bar-layer-pointer",c),t=i.offset(),n=i.height(),l=r.pageY-t.top;switch(l=Math.max(0,Math.min(l/n,1)),o.mode){case"h":o.color.setHSV(1-l,null,null);break;case"s":o.color.setHSV(null,1-l,null);break;case"v":o.color.setHSV(null,null,1-l);break;case"r":o.color.setRGB(1-l,null,null);break;case"g":o.color.setRGB(null,1-l,null);break;case"b":o.color.setRGB(null,null,1-l);break;case"a":o.color.setAlpha(1-l)}o._change()}},n=function(){var e='<div class="ui-colorpicker-bar ui-colorpicker-bar-'+(o.options.part.bar.size||256)+'  ui-colorpicker-border"><span class="ui-colorpicker-bar-layer-1">&nbsp;</span><span class="ui-colorpicker-bar-layer-2">&nbsp;</span><span class="ui-colorpicker-bar-layer-3">&nbsp;</span><span class="ui-colorpicker-bar-layer-4">&nbsp;</span>';return o.options.alpha&&(e+='<span class="ui-colorpicker-bar-layer-alpha">&nbsp;</span><span class="ui-colorpicker-bar-layer-alphabar">&nbsp;</span>'),e+='<span class="ui-colorpicker-bar-layer-pointer"><span class="ui-colorpicker-bar-pointer"></span></span></div>'},this.update=function(){var r=65*(o.options.part.bar.size||256)/64;switch(o.mode){case"h":case"s":case"v":case"r":case"g":case"b":e(".ui-colorpicker-bar-layer-alpha",c).show(),e(".ui-colorpicker-bar-layer-alphabar",c).hide();break;case"a":e(".ui-colorpicker-bar-layer-alpha",c).hide(),e(".ui-colorpicker-bar-layer-alphabar",c).show()}switch(o.mode){case"h":e(".ui-colorpicker-bar-layer-1",c).css({"background-position":"0 0",opacity:""}).show(),e(".ui-colorpicker-bar-layer-2",c).hide(),e(".ui-colorpicker-bar-layer-3",c).hide(),e(".ui-colorpicker-bar-layer-4",c).hide();break;case"s":e(".ui-colorpicker-bar-layer-1",c).css({"background-position":"0 "+-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-2",c).css({"background-position":"0 "+2*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-3",c).hide(),e(".ui-colorpicker-bar-layer-4",c).hide();break;case"v":e(".ui-colorpicker-bar-layer-1",c).css({"background-position":"0 "+2*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-2",c).hide(),e(".ui-colorpicker-bar-layer-3",c).hide(),e(".ui-colorpicker-bar-layer-4",c).hide();break;case"r":e(".ui-colorpicker-bar-layer-1",c).css({"background-position":"0 "+6*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-2",c).css({"background-position":"0 "+5*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-3",c).css({"background-position":"0 "+3*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-4",c).css({"background-position":"0 "+4*-r+"px",opacity:""}).show();break;case"g":e(".ui-colorpicker-bar-layer-1",c).css({"background-position":"0 "+10*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-2",c).css({"background-position":"0 "+9*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-3",c).css({"background-position":"0 "+7*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-4",c).css({"background-position":"0 "+8*-r+"px",opacity:""}).show();break;case"b":e(".ui-colorpicker-bar-layer-1",c).css({"background-position":"0 "+14*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-2",c).css({"background-position":"0 "+13*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-3",c).css({"background-position":"0 "+11*-r+"px",opacity:""}).show(),e(".ui-colorpicker-bar-layer-4",c).css({"background-position":"0 "+12*-r+"px",opacity:""}).show();break;case"a":e(".ui-colorpicker-bar-layer-1",c).hide(),e(".ui-colorpicker-bar-layer-2",c).hide(),e(".ui-colorpicker-bar-layer-3",c).hide(),e(".ui-colorpicker-bar-layer-4",c).hide()}a.repaint()},this.repaint=function(){var r=e(".ui-colorpicker-bar-layer-pointer",c),i=0;switch(o.mode){case"h":i=(1-o.color.getHSV().h)*r.height();break;case"s":i=(1-o.color.getHSV().s)*r.height(),e(".ui-colorpicker-bar-layer-2",c).css("opacity",1-o.color.getHSV().v),e(c).css("background-color",o.color.copy().setHSV(null,1,null).toCSS());break;case"v":i=(1-o.color.getHSV().v)*r.height(),e(c).css("background-color",o.color.copy().setHSV(null,null,1).toCSS());break;case"r":i=(1-o.color.getRGB().r)*r.height(),e(".ui-colorpicker-bar-layer-2",c).css("opacity",Math.max(0,o.color.getRGB().b-o.color.getRGB().g)),e(".ui-colorpicker-bar-layer-3",c).css("opacity",Math.max(0,o.color.getRGB().g-o.color.getRGB().b)),e(".ui-colorpicker-bar-layer-4",c).css("opacity",Math.min(o.color.getRGB().b,o.color.getRGB().g));break;case"g":i=(1-o.color.getRGB().g)*r.height(),e(".ui-colorpicker-bar-layer-2",c).css("opacity",Math.max(0,o.color.getRGB().b-o.color.getRGB().r)),e(".ui-colorpicker-bar-layer-3",c).css("opacity",Math.max(0,o.color.getRGB().r-o.color.getRGB().b)),e(".ui-colorpicker-bar-layer-4",c).css("opacity",Math.min(o.color.getRGB().r,o.color.getRGB().b));break;case"b":i=(1-o.color.getRGB().b)*r.height(),e(".ui-colorpicker-bar-layer-2",c).css("opacity",Math.max(0,o.color.getRGB().r-o.color.getRGB().g)),e(".ui-colorpicker-bar-layer-3",c).css("opacity",Math.max(0,o.color.getRGB().g-o.color.getRGB().r)),e(".ui-colorpicker-bar-layer-4",c).css("opacity",Math.min(o.color.getRGB().r,o.color.getRGB().g));break;case"a":i=(1-o.color.getAlpha())*r.height(),e(c).css("background-color",o.color.copy().toCSS())}"a"!==o.mode&&e(".ui-colorpicker-bar-layer-alpha",c).css("opacity",1-o.color.getAlpha()),e(".ui-colorpicker-bar-pointer",c).css("top",i-3)},this.init=function(){c=e(n()).appendTo(e(".ui-colorpicker-bar-container",o.dialog)),c.bind("mousedown",r)}},preview:function(o){var r,i=null;r=function(){return'<div class="ui-colorpicker-preview ui-colorpicker-border"><div class="ui-colorpicker-preview-initial"><div class="ui-colorpicker-preview-initial-alpha"></div></div><div class="ui-colorpicker-preview-current"><div class="ui-colorpicker-preview-current-alpha"></div></div></div>'},this.init=function(){i=e(r()).appendTo(e(".ui-colorpicker-preview-container",o.dialog)),e(".ui-colorpicker-preview-initial",i).click(function(){o.color=o.currentColor.copy(),o._change()})},this.update=function(){o.options.alpha?e(".ui-colorpicker-preview-initial-alpha, .ui-colorpicker-preview-current-alpha",i).show():e(".ui-colorpicker-preview-initial-alpha, .ui-colorpicker-preview-current-alpha",i).hide(),this.repaint()},this.repaint=function(){e(".ui-colorpicker-preview-initial",i).css("background-color",o.currentColor.set?o.currentColor.toCSS():"").attr("title",o.currentColor.set?o.currentColor.toCSS():""),e(".ui-colorpicker-preview-initial-alpha",i).css("opacity",1-o.currentColor.getAlpha()),e(".ui-colorpicker-preview-current",i).css("background-color",o.color.set?o.color.toCSS():"").attr("title",o.color.set?o.color.toCSS():""),e(".ui-colorpicker-preview-current-alpha",i).css("opacity",1-o.color.getAlpha())}},hsv:function(o){var r,i=null;r=function(){var e="";return o.options.hsv&&(e+='<div class="ui-colorpicker-hsv-h"><input class="ui-colorpicker-mode" type="radio" value="h"/><label>'+o._getRegional("hsvH")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="360" size="10"/><span class="ui-colorpicker-unit">&deg;</span></div><div class="ui-colorpicker-hsv-s"><input class="ui-colorpicker-mode" type="radio" value="s"/><label>'+o._getRegional("hsvS")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100" size="10"/><span class="ui-colorpicker-unit">%</span></div><div class="ui-colorpicker-hsv-v"><input class="ui-colorpicker-mode" type="radio" value="v"/><label>'+o._getRegional("hsvV")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100" size="10"/><span class="ui-colorpicker-unit">%</span></div>'),'<div class="ui-colorpicker-hsv">'+e+"</div>"},this.init=function(){i=e(r()).appendTo(e(".ui-colorpicker-hsv-container",o.dialog)),e(".ui-colorpicker-mode",i).click(function(){o.mode=e(this).val(),o._updateAllParts()}),e(".ui-colorpicker-number",i).bind("change keyup",function(){o.color.setHSV(e(".ui-colorpicker-hsv-h .ui-colorpicker-number",i).val()/360,e(".ui-colorpicker-hsv-s .ui-colorpicker-number",i).val()/100,e(".ui-colorpicker-hsv-v .ui-colorpicker-number",i).val()/100),o._change()})},this.repaint=function(){var r=o.color.getHSV();r.h*=360,r.s*=100,r.v*=100,e.each(r,function(o,r){var t=e(".ui-colorpicker-hsv-"+o+" .ui-colorpicker-number",i);r=Math.round(r),parseInt(t.val(),10)!==r&&t.val(r)})},this.update=function(){e(".ui-colorpicker-mode",i).each(function(){e(this).attr("checked",e(this).val()===o.mode)}),this.repaint()}},rgb:function(o){var r,i=null;r=function(){var e="";return o.options.rgb&&(e+='<div class="ui-colorpicker-rgb-r"><input class="ui-colorpicker-mode" type="radio" value="r"/><label>'+o._getRegional("rgbR")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="255"/></div><div class="ui-colorpicker-rgb-g"><input class="ui-colorpicker-mode" type="radio" value="g"/><label>'+o._getRegional("rgbG")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="255"/></div><div class="ui-colorpicker-rgb-b"><input class="ui-colorpicker-mode" type="radio" value="b"/><label>'+o._getRegional("rgbB")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="255"/></div>'),'<div class="ui-colorpicker-rgb">'+e+"</div>"},this.init=function(){i=e(r()).appendTo(e(".ui-colorpicker-rgb-container",o.dialog)),e(".ui-colorpicker-mode",i).click(function(){o.mode=e(this).val(),o._updateAllParts()}),e(".ui-colorpicker-number",i).bind("change keyup",function(){e(".ui-colorpicker-rgb-r .ui-colorpicker-number",i).val();o.color.setRGB(e(".ui-colorpicker-rgb-r .ui-colorpicker-number",i).val()/255,e(".ui-colorpicker-rgb-g .ui-colorpicker-number",i).val()/255,e(".ui-colorpicker-rgb-b .ui-colorpicker-number",i).val()/255),o._change()})},this.repaint=function(){e.each(o.color.getRGB(),function(o,r){var t=e(".ui-colorpicker-rgb-"+o+" .ui-colorpicker-number",i);r=Math.floor(255*r),parseInt(t.val(),10)!==r&&t.val(r)})},this.update=function(){e(".ui-colorpicker-mode",i).each(function(){e(this).attr("checked",e(this).val()===o.mode)}),this.repaint()}},lab:function(o){var r=null,i=function(){var e="";return o.options.hsv&&(e+='<div class="ui-colorpicker-lab-l"><label>'+o._getRegional("labL")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/></div><div class="ui-colorpicker-lab-a"><label>'+o._getRegional("labA")+'</label><input class="ui-colorpicker-number" type="number" min="-128" max="127"/></div><div class="ui-colorpicker-lab-b"><label>'+o._getRegional("labB")+'</label><input class="ui-colorpicker-number" type="number" min="-128" max="127"/></div>'),'<div class="ui-colorpicker-lab">'+e+"</div>"};this.init=function(){r=e(i()).appendTo(e(".ui-colorpicker-lab-container",o.dialog)),e(".ui-colorpicker-number",r).bind("change keyup",function(){o.color.setLAB(parseInt(e(".ui-colorpicker-lab-l .ui-colorpicker-number",r).val(),10)/100,(parseInt(e(".ui-colorpicker-lab-a .ui-colorpicker-number",r).val(),10)+128)/255,(parseInt(e(".ui-colorpicker-lab-b .ui-colorpicker-number",r).val(),10)+128)/255),o._change()})},this.repaint=function(){var i=o.color.getLAB();i.l*=100,i.a=255*i.a-128,i.b=255*i.b-128,e.each(i,function(o,i){var t=e(".ui-colorpicker-lab-"+o+" .ui-colorpicker-number",r);i=Math.round(i),parseInt(t.val(),10)!==i&&t.val(i)})},this.update=function(){this.repaint()}},cmyk:function(o){var r=null,i=function(){var e="";return o.options.hsv&&(e+='<div class="ui-colorpicker-cmyk-c"><label>'+o._getRegional("cmykC")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div><div class="ui-colorpicker-cmyk-m"><label>'+o._getRegional("cmykM")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div><div class="ui-colorpicker-cmyk-y"><label>'+o._getRegional("cmykY")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div><div class="ui-colorpicker-cmyk-k"><label>'+o._getRegional("cmykK")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div>'),'<div class="ui-colorpicker-cmyk">'+e+"</div>"
};this.init=function(){r=e(i()).appendTo(e(".ui-colorpicker-cmyk-container",o.dialog)),e(".ui-colorpicker-number",r).bind("change keyup",function(){o.color.setCMYK(parseInt(e(".ui-colorpicker-cmyk-c .ui-colorpicker-number",r).val(),10)/100,parseInt(e(".ui-colorpicker-cmyk-m .ui-colorpicker-number",r).val(),10)/100,parseInt(e(".ui-colorpicker-cmyk-y .ui-colorpicker-number",r).val(),10)/100,parseInt(e(".ui-colorpicker-cmyk-k .ui-colorpicker-number",r).val(),10)/100),o._change()})},this.repaint=function(){e.each(o.color.getCMYK(),function(o,i){var t=e(".ui-colorpicker-cmyk-"+o+" .ui-colorpicker-number",r);i=Math.round(100*i),parseInt(t.val(),10,10)!==i&&t.val(i)})},this.update=function(){this.repaint()}},alpha:function(o){var r,i=null;r=function(){var e="";return o.options.alpha&&(e+='<div class="ui-colorpicker-a"><input class="ui-colorpicker-mode" name="mode" type="radio" value="a"/><label>'+o._getRegional("alphaA")+'</label><input class="ui-colorpicker-number" type="number" min="0" max="100"/><span class="ui-colorpicker-unit">%</span></div>'),'<div class="ui-colorpicker-alpha">'+e+"</div>"},this.init=function(){i=e(r()).appendTo(e(".ui-colorpicker-alpha-container",o.dialog)),e(".ui-colorpicker-mode",i).click(function(){o.mode=e(this).val(),o._updateAllParts()}),e(".ui-colorpicker-number",i).bind("change keyup",function(){o.color.setAlpha(e(".ui-colorpicker-a .ui-colorpicker-number",i).val()/100),o._change()})},this.update=function(){e(".ui-colorpicker-mode",i).each(function(){e(this).attr("checked",e(this).val()===o.mode)}),this.repaint()},this.repaint=function(){var r=e(".ui-colorpicker-a .ui-colorpicker-number",i),t=Math.round(100*o.color.getAlpha());parseInt(r.val(),10)!==t&&r.val(t)}},hex:function(o){var r,i=null;r=function(){var e="";return o.options.alpha&&(e+='<input class="ui-colorpicker-hex-alpha" type="text" maxlength="2" size="2"/>'),e+='<input class="ui-colorpicker-hex-input" type="text" maxlength="6" size="6"/>','<div class="ui-colorpicker-hex"><label>#</label>'+e+"</div>"},this.init=function(){i=e(r()).appendTo(e(".ui-colorpicker-hex-container",o.dialog)),e(".ui-colorpicker-hex-input",i).bind("change keydown keyup",function(){/[^a-fA-F0-9]/.test(e(this).val())&&e(this).val(e(this).val().replace(/[^a-fA-F0-9]/,""))}),e(".ui-colorpicker-hex-input",i).bind("change keyup",function(){o.color=a(e(this).val()).setAlpha(o.color.getAlpha()),o._change()}),e(".ui-colorpicker-hex-alpha",i).bind("change keydown keyup",function(){/[^a-fA-F0-9]/.test(e(this).val())&&e(this).val(e(this).val().replace(/[^a-fA-F0-9]/,""))}),e(".ui-colorpicker-hex-alpha",i).bind("change keyup",function(){o.color.setAlpha(parseInt(e(".ui-colorpicker-hex-alpha",i).val(),16)/255),o._change()})},this.update=function(){this.repaint()},this.repaint=function(){e(".ui-colorpicker-hex-input",i).is(":focus")||e(".ui-colorpicker-hex-input",i).val(o.color.toHex(!0)),e(".ui-colorpicker-hex-alpha",i).is(":focus")||e(".ui-colorpicker-hex-alpha",i).val(n(255*o.color.getAlpha()))}},swatches:function(o){var r=null,i=function(){var r="";return o._eachSwatch(function(o,i){var t=new e.colorpicker.Color(i.r,i.g,i.b),n=t.toCSS();r+='<div class="ui-colorpicker-swatch" style="background-color:'+n+'" title="'+o+'"></div>'}),'<div class="ui-colorpicker-swatches ui-colorpicker-border" style="width:'+o.options.swatchesWidth+'px">'+r+"</div>"};this.init=function(){r=e(i()).appendTo(e(".ui-colorpicker-swatches-container",o.dialog)),e(".ui-colorpicker-swatch",r).click(function(){o.color=o._parseColor(e(this).css("background-color"))||new e.colorpicker.Color,o._change()})}},footer:function(r){var i=null,t="ui-colorpicker-special-transparent-"+o,n="ui-colorpicker-special-none-"+o,a=function(){var e="";return(r.options.alpha||!r.inline&&r.options.showNoneButton)&&(e+='<div class="ui-colorpicker-buttonset">',r.options.alpha&&(e+='<input type="radio" name="ui-colorpicker-special" id="'+t+'" class="ui-colorpicker-special-transparent"/><label for="'+t+'">'+r._getRegional("transparent")+"</label>"),!r.inline&&r.options.showNoneButton&&(e+='<input type="radio" name="ui-colorpicker-special" id="'+n+'" class="ui-colorpicker-special-none"><label for="'+n+'">'+r._getRegional("none")+"</label>"),e+="</div>"),r.inline||(e+='<div class="ui-dialog-buttonset">',r.options.showCancelButton&&(e+='<button class="ui-colorpicker-cancel">'+r._getRegional("cancel")+"</button>"),e+='<button class="ui-colorpicker-ok">'+r._getRegional("ok")+"</button>",e+="</div>"),'<div class="ui-dialog-buttonpane ui-widget-content">'+e+"</div>"};this.init=function(){i=e(a()).appendTo(r.dialog),e(".ui-colorpicker-ok",i).button().click(function(){r.close()}),e(".ui-colorpicker-cancel",i).button().click(function(){r.close(!0)}),e(".ui-colorpicker-buttonset",i).buttonset(),e(".ui-colorpicker-special-color",i).click(function(){r._change()}),e("#"+n,i).click(function(){r.color.set=!1,r._change()}),e("#"+t,i).click(function(){r.color.setAlpha(0),r._change()})},this.repaint=function(){r.color.set?0===r.color.getAlpha()?e(".ui-colorpicker-special-transparent",i).attr("checked",!0).button("refresh"):e("input",i).attr("checked",!1).button("refresh"):e(".ui-colorpicker-special-none",i).attr("checked",!0).button("refresh"),e(".ui-colorpicker-cancel",i).button(r.changed?"enable":"disable")},this.update=function(){}}},this.Color=function(){var o={rgb:{r:0,g:0,b:0},hsv:{h:0,s:0,v:0},hsl:{h:0,s:0,l:0},lab:{l:0,a:0,b:0},cmyk:{c:0,m:0,y:0,k:1}},r=1,i=[.9504285,1,1.0889],t=arguments,n=function(e){return isNaN(e)||null===e?0:("string"==typeof e&&(e=parseInt(e,10)),Math.max(0,Math.min(e,1)))},a=function(e){var e=Math.round(e),o="0123456789abcdef",r=e%16,i=(e-r)/16,t=o.charAt(i)+o.charAt(r);return t},c=function(e){var o=e.r>.04045?Math.pow((e.r+.055)/1.055,2.4):e.r/12.92,r=e.g>.04045?Math.pow((e.g+.055)/1.055,2.4):e.g/12.92,i=e.b>.04045?Math.pow((e.b+.055)/1.055,2.4):e.b/12.92;return{x:.4124*o+.3576*r+.1805*i,y:.2126*o+.7152*r+.0722*i,z:.0193*o+.1192*r+.9505*i}},l=function(e){var o={r:3.2406*e.x+-1.5372*e.y+e.z*-.4986,g:e.x*-.9689+1.8758*e.y+.0415*e.z,b:.0557*e.x+e.y*-.204+1.057*e.z};return o.r=o.r>.0031308?1.055*Math.pow(o.r,1/2.4)-.055:12.92*o.r,o.g=o.g>.0031308?1.055*Math.pow(o.g,1/2.4)-.055:12.92*o.g,o.b=o.b>.0031308?1.055*Math.pow(o.b,1/2.4)-.055:12.92*o.b,o},s=function(e){var o,r,i,t=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),a=n-t,c={h:0,s:0,v:n};return 0===a?(c.h=0,c.s=0):(c.s=a/n,o=((n-e.r)/6+a/2)/a,r=((n-e.g)/6+a/2)/a,i=((n-e.b)/6+a/2)/a,e.r===n?c.h=i-r:e.g===n?c.h=1/3+o-i:e.b===n&&(c.h=2/3+r-o),c.h<0?c.h+=1:c.h>1&&(c.h-=1)),c},p=function(e){var o,r,i,t,n,a={r:0,g:0,b:0};return 0===e.s?a.r=a.g=a.b=e.v:(o=1===e.h?0:6*e.h,r=Math.floor(o),i=e.v*(1-e.s),t=e.v*(1-e.s*(o-r)),n=e.v*(1-e.s*(1-(o-r))),0===r?(a.r=e.v,a.g=n,a.b=i):1===r?(a.r=t,a.g=e.v,a.b=i):2===r?(a.r=i,a.g=e.v,a.b=n):3===r?(a.r=i,a.g=t,a.b=e.v):4===r?(a.r=n,a.g=i,a.b=e.v):(a.r=e.v,a.g=i,a.b=t)),a},u=function(e){var o,r,i,t=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),a=n-t,c={h:0,s:0,l:(n+t)/2};return 0===a?(c.h=0,c.s=0):(c.s=c.l<.5?a/(n+t):a/(2-n-t),o=((n-e.r)/6+a/2)/a,r=((n-e.g)/6+a/2)/a,i=((n-e.b)/6+a/2)/a,e.r===n?c.h=i-r:e.g===n?c.h=1/3+o-i:e.b===n&&(c.h=2/3+r-o),c.h<0?c.h+=1:c.h>1&&(c.h-=1)),c},h=function(e){var o,r,i=function(e,o,r){return 0>r&&(r+=1),r>1&&(r-=1),1>6*r?e+6*(o-e)*r:1>2*r?o:2>3*r?e+(o-e)*(2/3-r)*6:e};return 0===e.s?{r:e.l,g:e.l,b:e.l}:(r=e.l<.5?e.l*(1+e.s):e.l+e.s-e.s*e.l,o=2*e.l-r,{r:i(o,r,e.h+1/3),g:i(o,r,e.h),b:i(o,r,e.h-1/3)})},g=function(e){var o=e.x/i[0],r=e.y/i[1],t=e.z/i[2];return o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,{l:(116*r-16)/100,a:(500*(o-r)+128)/255,b:(200*(r-t)+128)/255}},b=function(e){var o={l:100*e.l,a:255*e.a-128,b:255*e.b-128},r={x:0,y:(o.l+16)/116,z:0};return r.x=o.a/500+r.y,r.z=r.y-o.b/200,r.x=Math.pow(r.x,3)>.008856?Math.pow(r.x,3):(r.x-16/116)/7.787,r.y=Math.pow(r.y,3)>.008856?Math.pow(r.y,3):(r.y-16/116)/7.787,r.z=Math.pow(r.z,3)>.008856?Math.pow(r.z,3):(r.z-16/116)/7.787,r.x*=i[0],r.y*=i[1],r.z*=i[2],r},d=function(e){return{c:1-e.r,m:1-e.g,y:1-e.b}},m=function(e){return{r:1-e.c,g:1-e.m,b:1-e.y}},k=function(e){var o=1;return e.c<o&&(o=e.c),e.m<o&&(o=e.m),e.y<o&&(o=e.y),1===o?{c:0,m:0,y:0,k:1}:{c:(e.c-o)/(1-o),m:(e.m-o)/(1-o),y:(e.y-o)/(1-o),k:o}},f=function(e){return{c:e.c*(1-e.k)+e.k,m:e.m*(1-e.k)+e.k,y:e.y*(1-e.k)+e.k}};this.set=!1,this.setAlpha=function(e){return null!==e&&(r=n(e)),this.set=!0,this},this.getAlpha=function(){return r},this.setRGB=function(e,r,i){return o={rgb:this.getRGB()},null!==e&&(o.rgb.r=n(e)),null!==r&&(o.rgb.g=n(r)),null!==i&&(o.rgb.b=n(i)),this.set=!0,this},this.setHSV=function(e,r,i){return o={hsv:this.getHSV()},null!==e&&(o.hsv.h=n(e)),null!==r&&(o.hsv.s=n(r)),null!==i&&(o.hsv.v=n(i)),this.set=!0,this},this.setHSL=function(e,r,i){return o={hsl:this.getHSL()},null!==e&&(o.hsl.h=n(e)),null!==r&&(o.hsl.s=n(r)),null!==i&&(o.hsl.l=n(i)),this.set=!0,this},this.setLAB=function(e,r,i){return o={lab:this.getLAB()},null!==e&&(o.lab.l=n(e)),null!==r&&(o.lab.a=n(r)),null!==i&&(o.lab.b=n(i)),this.set=!0,this},this.setCMYK=function(e,r,i,t){return o={cmyk:this.getCMYK()},null!==e&&(o.cmyk.c=n(e)),null!==r&&(o.cmyk.m=n(r)),null!==i&&(o.cmyk.y=n(i)),null!==t&&(o.cmyk.k=n(t)),this.set=!0,this},this.getRGB=function(){return o.rgb||(o.rgb=o.lab?l(b(o.lab)):o.hsv?p(o.hsv):o.hsl?h(o.hsl):o.cmyk?m(f(o.cmyk)):{r:0,g:0,b:0},o.rgb.r=n(o.rgb.r),o.rgb.g=n(o.rgb.g),o.rgb.b=n(o.rgb.b)),e.extend({},o.rgb)},this.getHSV=function(){return o.hsv||(o.hsv=o.lab?s(this.getRGB()):o.rgb?s(o.rgb):o.hsl?s(this.getRGB()):o.cmyk?s(this.getRGB()):{h:0,s:0,v:0},o.hsv.h=n(o.hsv.h),o.hsv.s=n(o.hsv.s),o.hsv.v=n(o.hsv.v)),e.extend({},o.hsv)},this.getHSL=function(){return o.hsl||(o.hsl=o.rgb?u(o.rgb):o.hsv?u(this.getRGB()):o.cmyk?u(this.getRGB()):o.hsv?u(this.getRGB()):{h:0,s:0,l:0},o.hsl.h=n(o.hsl.h),o.hsl.s=n(o.hsl.s),o.hsl.l=n(o.hsl.l)),e.extend({},o.hsl)},this.getCMYK=function(){return o.cmyk||(o.cmyk=o.rgb?k(d(o.rgb)):o.hsv?k(d(this.getRGB())):o.hsl?k(d(this.getRGB())):o.lab?k(d(this.getRGB())):{c:0,m:0,y:0,k:1},o.cmyk.c=n(o.cmyk.c),o.cmyk.m=n(o.cmyk.m),o.cmyk.y=n(o.cmyk.y),o.cmyk.k=n(o.cmyk.k)),e.extend({},o.cmyk)},this.getLAB=function(){return o.lab||(o.lab=o.rgb?g(c(o.rgb)):o.hsv?g(c(this.getRGB())):o.hsl?g(c(this.getRGB())):o.cmyk?g(c(this.getRGB())):{l:0,a:0,b:0},o.lab.l=n(o.lab.l),o.lab.a=n(o.lab.a),o.lab.b=n(o.lab.b)),e.extend({},o.lab)},this.getChannels=function(){return{r:this.getRGB().r,g:this.getRGB().g,b:this.getRGB().b,a:this.getAlpha(),h:this.getHSV().h,s:this.getHSV().s,v:this.getHSV().v,c:this.getCMYK().c,m:this.getCMYK().m,y:this.getCMYK().y,k:this.getCMYK().k,L:this.getLAB().l,A:this.getLAB().a,B:this.getLAB().b}},this.getSpaces=function(){return e.extend(!0,{},o)},this.distance=function(e){var o,r="lab",i="get"+r.toUpperCase(),t=this[i](),n=e[i](),a=0;for(o in t)a+=Math.pow(t[o]-n[o],2);return a},this.equals=function(e){if(e){var o=this.getRGB(),r=e.getRGB();return this.getAlpha()===e.getAlpha()&&o.r===r.r&&o.g===r.g&&o.b===r.b}return!1},this.limit=function(e){e-=1;var o=this.getRGB();this.setRGB(Math.round(o.r*e)/e,Math.round(o.g*e)/e,Math.round(o.b*e)/e)},this.toHex=function(){var e=this.getRGB();return a(255*e.r)+a(255*e.g)+a(255*e.b)},this.toCSS=function(){return"#"+this.toHex()},this.copy=function(){var o=new e.colorpicker.Color(this.getSpaces(),this.getAlpha());return o.set=this.set,o},2===t.length&&(o=t[0],this.setAlpha(0===t[1]?0:t[1]||1),this.set=!0),t.length>2&&(this.setRGB(t[0],t[1],t[2]),this.setAlpha(0===t[3]?0:t[3]||1),this.set=!0)}},e.widget("vanderlee.colorpicker",{options:{alpha:!1,altAlpha:!0,altField:"",altOnChange:!0,altProperties:"background-color",autoOpen:!1,buttonClass:null,buttonColorize:!1,buttonImage:"images/ui-colorpicker.png",buttonImageOnly:!1,buttonText:null,closeOnEscape:!0,closeOnOutside:!0,color:"#00FF00",colorFormat:"HEX",draggable:!0,containment:null,duration:"fast",hsv:!0,inline:!0,inlineFrame:!0,layout:{map:[0,0,1,5],bar:[1,0,1,5],preview:[2,0,1,1],hsv:[2,1,1,1],rgb:[2,2,1,1],alpha:[2,3,1,1],hex:[2,4,1,1],lab:[3,1,1,1],cmyk:[3,2,1,2],swatches:[4,0,1,5]},limit:"",modal:!1,mode:"h",okOnEnter:!1,parts:"",part:{map:{size:256},bar:{size:256}},position:null,regional:"",revert:!1,rgb:!0,showAnim:"fadeIn",showCancelButton:!0,showNoneButton:!1,showCloseButton:!0,showOn:"focus click alt",showOptions:{},swatches:null,swatchesWidth:84,title:null,cancel:null,close:null,init:null,ok:null,open:null,select:null},_create:function(){var r,i=this;return++o,i.widgetEventPrefix="colorpicker",i.opened=!1,i.generated=!1,i.inline=!1,i.changed=!1,i.dialog=null,i.button=null,i.image=null,i.overlay=null,i.events={window_resize:null,document_keydown:null,document_click_html:null},i.mode=i.options.mode,i.element.is("input")||i.options.inline===!1?(i._setColor(i.element.is("input")?i.element.val():i.options.color),i._callback("init"),/\bfocus|both\b/.test(i.options.showOn)&&i.element.bind("focus",function(){i.open()}),/\bclick|both\b/.test(i.options.showOn)&&i.element.bind("click",function(){i.open()}),/\bbutton|both\b/.test(i.options.showOn)&&(""!==i.options.buttonImage&&(r=i.options.buttonText||i._getRegional("button"),i.image=e("<img/>").attr({src:i.options.buttonImage,alt:r,title:r}),i.options.buttonClass&&i.image.attr("class",i.options.buttonClass),i._setImageBackground()),i.options.buttonImageOnly&&i.image?i.button=i.image:(i.button=e('<button type="button"></button>').html(i.image||i.options.buttonText).button(),i.image=i.image?e("img",i.button).first():null),i.button.insertAfter(i.element).click(function(){i[i.opened?"close":"open"]()})),/\balt|both\b/.test(i.options.showOn)&&e(i.options.altField).bind("click",function(){i.open()}),i.options.autoOpen&&i.open()):(i.inline=!0,i._generate(),i.opened=!0),this},_setOption:function(o,r){var i=this;switch(o){case"disabled":r?i.dialog.addClass("ui-colorpicker-disabled"):i.dialog.removeClass("ui-colorpicker-disabled")}e.Widget.prototype._setOption.apply(i,arguments)},_setImageBackground:function(){this.image&&this.options.buttonColorize&&this.image.css("background-color",this.color.set?this._formatColor("RGBA",this.color):"")},_setAltField:function(){if(this.options.altOnChange&&this.options.altField&&this.options.altProperties){var o,r,i=this.options.altProperties.split(",");for(o=0;o<=i.length;++o)switch(r=e.trim(i[o])){case"color":case"fill":case"stroke":case"background-color":case"backgroundColor":case"outline-color":case"border-color":e(this.options.altField).css(r,this.color.set?this.color.toCSS():"")}this.options.altAlpha&&e(this.options.altField).css("opacity",this.color.set?this.color.getAlpha():"")}},_setColor:function(o){this.color=this._parseColor(o)||new e.colorpicker.Color,this.currentColor=this.color.copy(),this._setImageBackground(),this._setAltField()},setColor:function(e){this._setColor(e),this._change()},getColor:function(e){return this._formatColor(e||this.options.colorFormat,this.color)},_generateInline:function(){var o=this;e(o.element).html(o.options.inlineFrame?i:t),o.dialog=e(".ui-colorpicker",o.element)},_generatePopup:function(){var o=this;o.dialog=e(r).appendTo("body"),null===o.events.document_click_html&&e(document).delegate("html","touchstart click",o.events.document_click_html=function(r){if(o.opened&&r.target!==o.element[0]&&!o.overlay){if(o.dialog.is(r.target)||o.dialog.has(r.target).length>0)return void o.element.blur();var i,t=e(r.target).parents();for(t.push(r.target),i=0;i<=t.length;++i){if(null!==o.button&&t[i]===o.button[0])return;if(/\balt|both\b/.test(o.options.showOn)&&e(o.options.altField).is(t[i]))return}o.options.closeOnOutside&&o.close(o.options.revert)}}),null===o.events.document_keydown&&e(document).bind("keydown",o.events.document_keydown=function(e){o.opened&&27===e.keyCode&&o.options.closeOnEscape&&o.close(o.options.revert),o.opened&&13===e.keyCode&&o.options.okOnEnter&&o.close()}),o.element.keydown(function(e){9===e.keyCode&&o.close()}).keyup(function(){var e=o._parseColor(o.element.val());e&&!o.color.equals(e)&&(o.color=e,o._change())})},_generate:function(){var o,r,i,t,n=this;n._setColor(n.inline||!n.element.is("input")?n.options.color:n.element.val()),n[n.inline?"_generateInline":"_generatePopup"](),o="string"==typeof n.options.parts?e.colorpicker.partslists[n.options.parts]?e.colorpicker.partslists[n.options.parts]:e.colorpicker.partslists[n.inline?"inline":"popup"]:n.options.parts,n.parts={},e.each(o,function(o,r){e.colorpicker.parts[r]&&(n.parts[r]=new e.colorpicker.parts[r](n))}),n.generated||(r=[],e.each(n.options.layout,function(e,o){n.parts[e]&&r.push({part:e,pos:o})}),i=e(c(r,function(e,o,r){return t=["ui-colorpicker-"+e.part+"-container"],o>0&&t.push("ui-colorpicker-padding-left"),r>0&&t.push("ui-colorpicker-padding-top"),'<td  class="'+t.join(" ")+'"'+(e.pos[2]>1?' colspan="'+e.pos[2]+'"':"")+(e.pos[3]>1?' rowspan="'+e.pos[3]+'"':"")+' valign="top"></td>'})).appendTo(n.dialog),n.options.inlineFrame&&i.addClass("ui-dialog-content ui-widget-content"),n._initAllParts(),n._updateAllParts(),n.generated=!0)},_effectGeneric:function(o,r,i,t,n){var a=this;e.effects&&e.effects[a.options.showAnim]?o[r](a.options.showAnim,a.options.showOptions,a.options.duration,n):(o["slideDown"===a.options.showAnim?i:"fadeIn"===a.options.showAnim?t:r](a.options.showAnim?a.options.duration:null,n),a.options.showAnim&&a.options.duration||n())},_effectShow:function(e,o){this._effectGeneric(e,"show","slideDown","fadeIn",o)},_effectHide:function(e,o){this._effectGeneric(e,"hide","slideUp","fadeOut",o)},open:function(){var o,r,i,t=this;t.opened||(t._generate(),r=t.element.is(":hidden")?e("<div/>").insertBefore(t.element):t.element,t.options.position?(i=e.extend({},t.options.position),"element"===i.of&&(i.of=r)):i={my:"left top",at:"left bottom",of:r,collision:"flip"},t.dialog.position(i),t.element.is(":hidden")&&r.remove(),o=0,e(t.element[0]).parents().each(function(){var r=e(this).css("z-index");if("number"!=typeof r&&"string"!=typeof r||""===r||isNaN(r))e(this).siblings().each(function(){var r=e(this).css("z-index");"number"!=typeof r&&"string"!=typeof r||""===r||isNaN(r)||r>o&&(o=parseInt(r,10))});else if(r>o)return o=parseInt(r,10),!1}),o+=2,t.dialog.css("z-index",o),t.options.modal&&(t.overlay=e('<div class="ui-widget-overlay"></div>').appendTo("body").css("z-index",o-1),null!==t.events.window_resize&&e(window).unbind("resize",t.events.window_resize),t.events.window_resize=function(){t.overlay&&(t.overlay.width(e(document).width()),t.overlay.height(e(document).height()))},e(window).bind("resize",t.events.window_resize),t.events.window_resize()),t._effectShow(this.dialog),t.opened=!0,t._callback("open",!0),e(function(){t._repaintAllParts()}))},close:function(o){var r=this;o?(r.color=r.currentColor.copy(),r._change(),r._callback("cancel",!0)):(r.currentColor=r.color.copy(),r._callback("ok",!0)),r.changed=!1,r.overlay&&(e(window).unbind("resize",r.events.window_resize),r.overlay.remove()),r._effectHide(r.dialog,function(){r.dialog.remove(),r.dialog=null,r.generated=!1,r.opened=!1,r._callback("close",!0)})},destroy:function(){null!==that.events.document_click_html&&e(document).undelegate("html","touchstart click",that.events.document_click_html),null!==that.events.document_keydown&&e(document).unbind("keydown",that.events.document_keydown),null!==that.events.resizeOverlay&&e(window).unbind("resize",that.events.resizeOverlay),this.element.unbind(),this.overlay&&this.overlay.remove(),null!==this.dialog&&this.dialog.remove(),null!==this.image&&this.image.remove(),null!==this.button&&this.button.remove()},_callback:function(e,o){var r,i,t=this;return t.color.set?(r={formatted:t._formatColor(t.options.colorFormat,t.color),colorPicker:t},i=t.color.getLAB(),i.a=2*i.a-1,i.b=2*i.b-1,o===!0&&(r.a=t.color.getAlpha(),r.rgb=t.color.getRGB(),r.hsv=t.color.getHSV(),r.cmyk=t.color.getCMYK(),r.hsl=t.color.getHSL(),r.lab=i),t._trigger(e,null,r)):t._trigger(e,null,{formatted:"",colorPicker:t})},_initAllParts:function(){e.each(this.parts,function(e,o){o.init&&o.init()})},_updateAllParts:function(){e.each(this.parts,function(e,o){o.update&&o.update()})},_repaintAllParts:function(){e.each(this.parts,function(e,o){o.repaint&&o.repaint()})},_change:function(){this.changed=!0,this.options.limit&&e.colorpicker.limits[this.options.limit]&&e.colorpicker.limits[this.options.limit](this.color,this),this.inline||(this.color.set?this.color.equals(this._parseColor(this.element.val()))||this.element.val(this._formatColor(this.options.colorFormat,this.color)):this.element.val(""),this._setImageBackground(),this._setAltField()),this.options.color=this.color.set?this.color.toCSS():"",this.opened&&this._repaintAllParts(),this._callback("select")},_hoverable:function(e){e.hover(function(){e.addClass("ui-state-hover")},function(){e.removeClass("ui-state-hover")})},_focusable:function(e){e.focus(function(){e.addClass("ui-state-focus")}).blur(function(){e.removeClass("ui-state-focus")})},_getRegional:function(o){return void 0!==e.colorpicker.regional[this.options.regional][o]?e.colorpicker.regional[this.options.regional][o]:e.colorpicker.regional[""][o]},_getSwatches:function(){return"string"==typeof this.options.swatches?e.colorpicker.swatches[this.options.swatches]:e.isPlainObject(this.options.swatches)?this.colorpicker.swatches:e.colorpicker.swatches.html},_eachSwatch:function(o){var r,i=this._getSwatches();e.each(i,function(t,n){return r=e.isArray(i)?n.name:t,o(r,n)})},_getSwatch:function(e){var o=!1;return this._eachSwatch(function(r,i){return r.toLowerCase()==e.toLowerCase()?(o=i,!1):void 0}),o},_parseFormat:function(o,r){var i,t,n={x:function(){return"([0-9a-fA-F]{2})"},d:function(){return"([12]?[0-9]{1,2})"},f:function(){return"([0-9]*\\.?[0-9]*)"},p:function(){return"([0-9]*\\.?[0-9]*)"}},a={x:function(e){return parseInt(e,16)},d:function(e){return e/255},f:function(e){return e},p:function(e){return.01*e}},c={r:"setRGB",g:"setRGB",b:"setRGB",h:"setHSV",s:"setHSV",v:"setHSV",c:"setCMYK",m:"setCMYK",y:"setCMYK",k:"setCMYK",L:"setLAB",A:"setLAB",B:"setLAB"},l={setRGB:["r","g","b"],setHSV:["h","s","v"],setCMYK:["c","m","y","k"],setLAB:["L","A","B"]},s=[],p=[],u=null;if(t=o.replace(/[()\\^$.|?*+[\]]/g,function(e){return"\\"+e}),t=t.replace(/\\?[argbhsvcmykLAB][xdfp]/g,function(e){if(e.match(/^\\/))return e.slice(1);var o=e.charAt(0),r=e.charAt(1);return s.push(o),p.push(a[r]),c[o]&&(u=c[o]),n[r]()}),u){var h=r.match(new RegExp(t));if(h){var g,b=[];h.shift(),e.each(l[u],function(o,r){g=e.inArray(r,s),b[o]=p[g](h[g])}),i=new e.colorpicker.Color,i[u].apply(i,b)}}return i},_parseColor:function(o){var r,i=this,t=e.isArray(i.options.colorFormat)?i.options.colorFormat:[i.options.colorFormat];return e.each(t,function(t,n){return r=e.colorpicker.parsers[n]?e.colorpicker.parsers[n](o,i):i._parseFormat(n,o),r?!1:void 0}),r||e.each(e.colorpicker.parsers,function(e,t){return r=t(o,i),r?!1:void 0}),r?r:!1},_exactName:function(o){var r=!1;return this._eachSwatch(function(i,t){return o.equals(new e.colorpicker.Color(t.r,t.g,t.b))?(r=i,!1):void 0}),r},_closestName:function(o){var r,i=(o.getRGB(),null),t=!1;return this._eachSwatch(function(n,a){if(r=o.distance(new e.colorpicker.Color(a.r,a.g,a.b)),i>r||null===i){if(t=n,1e-20>=r)return!1;i=r}}),t},_formatColor:function(o,r){var i=this,t=null,a={x:function(e){return n(255*e)},d:function(e){return Math.floor(255*e)},f:function(e){return e},p:function(e){return 100*e}},c=r.getChannels();return e.isArray(o)||(o=[o]),e.each(o,function(o,n){return e.colorpicker.writers[n]?(t=e.colorpicker.writers[n](r,i),t===!1):(t=n.replace(/\\?[argbhsvcmykLAB][xdfp]/g,function(e){return e.match(/^\\/)?e.slice(1):a[e.charAt(1)](c[e.charAt(0)])}),!1)}),t}})}(jQuery);